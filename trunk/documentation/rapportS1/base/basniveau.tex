Cette partie présente la totalité de la grammaire bas-niveau

\begin{lstlisting}[language=Grammar]
 Game ::= refreshLoop eventsManager ressourcesSets camera entities physicsEngine

refreshLoop ::= signalUpdateCounter keyListener{ keyboardCommands } mouseListener{ mouseCommands }
//signalUpdateCounter is triggered by the refreshLoop and updates counters of type times

// pressing a key or action with mouse triggers an event
keyboardCommands ::= (keystroke : signalSets)*

mouseCommands ::= (typeOfClick : signalSets)*

signalSets ::= signal (| signal)*

----------------------------------------------------------------------------------------------------------
// Events Managers

eventsManager ::= signal (@ signal)* instructions (| signal instructions)*

instructions ::= resourceApply(applyExpression) 
               | if conditonnal then instructions (& instructions)* (else instructions (& instructions)*)? 
               | conceptsInstructions

conceptsInstructions ::= gamOver | pause | newGame | saveGame

conditionnal ::= testExpression (booleanOperator testExpression)*

booleanOperator ::= and | or

testExpression ::= expression comparisonOperator expression

comparisonOperator ::= < | > | <= | >= | == | !=

applyExpression ::= arithmeticOperator (metaExpression | expression)

// to reuse an expression without writing it
metaExpression ::= nameExp expression

nameExp ::= string
expression ::= (arithmeticOperator value)+
arithmeticOperator ::= + | - | * | / | %


//random(value,value) to generate a random number between these integers
value = ressource | constant | random(value, value) | random(0, value)
constant ::= int | double

----------------------------------------------------------------------------------------------------------
// Resource Manager

// An event tiggers when a resource is modified
resourcesSets ::= (enumResource | resource)+


enumResource ::= name { nameEnumResource (, nameEnumResource)*}
nameEnumResource ::=  String

resource ::= (# nameEnumResource)? name (signal (@ signal)*)? (timer|initValue)

name ::= string

timer ::= step initTimer

initValue ::= int | double

----------------------------------------------------------------------------------------------------------
// camera and entites manager


camera ::= name position

position ::= vector | angle

entities ::= map with object+

// With a map like a points matrix with a unique texture
map ::= matrix texture


object ::= object = (name object3D parameters | media)
parameters ::= coeffOfFriction = double weight = double speed = vector position = vector  isFixed = boolean isTraversable = boolean
object3D ::= colladaFile boundingBox
media ::= soundLevel | isMute | isPlayed | isStopped | isPaused
colladaFile ::= [a-zA-Z]*.dae

----------------------------------------------------------------------------------------------------------
// physics engine

physicsEngine ::= forces+ collision
forces ::= gravity | wind |...

// Bounded box are provided by the user
collision ::= collision{ name name signalSets (, name name signalSets)*}
gravity ::= gravity = vector
wind ::= wind = vector


\end{lstlisting}
